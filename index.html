<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Monil | Breadboard UI</title>
  <link rel="stylesheet" href="styles.css?v=bb2" />
  <style>
    :root{
      --bg1:#224a67; --bg2:#2d74a3;
      --card:rgba(255,255,255,.08); --text:#eaf2f8;
      --led-off:#7f8c8d; --led-on:#35ff95; --proj:#8ab4f8; --hob:#fbd38d; --skill:#7ee787; --about:#c084fc;
      --bezel:#2f855a; --screen:#0f2230; --screen-text:#b9f5d0;
    }
    body{
      margin:0; min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center;
      background: radial-gradient(1200px 500px at 50% -20%, var(--bg2), var(--bg1));
      color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      text-align:center;
    }
    .wrap{ width:min(1100px,96vw) }
    h1{ margin:.25rem 0 .5rem; font-size:2rem; font-weight:800 }
    .note{ margin:0 0 1rem; opacity:.9 }
    .board{
      background:var(--card); border-radius:18px; padding:18px; box-shadow:0 18px 48px rgba(0,0,0,.28); backdrop-filter: blur(6px);
    }
    svg{ width:100%; height:auto; display:block; }

    /* switches + leds */
    .switch{ cursor:pointer }
    .switch .lever{ transition: transform .18s ease; transform-origin: center top; }
    .switch[data-state="on"] .lever{ transform: rotate(-35deg) translateY(-1px) }
    .switch[data-state="off"] .lever{ transform: rotate(35deg) translateY(1px) }

    .dip .thumb{ transition: transform .14s ease }
    .dip[data-on="true"] .thumb{ transform: translateY(10px) }  /* down = closed */

    .led{ transition: fill .12s ease, filter .12s ease }
    .glow{ filter: drop-shadow(0 0 6px currentColor) drop-shadow(0 0 14px currentColor) }

    /* LCD text container under the SVG for easy wrapping on mobile */
    .lcd-wrap{ margin-top:12px; display:grid; gap:6px; justify-items:center }
    .lcd{
      width:min(780px, 90vw); height:120px; border-radius:10px;
      background: radial-gradient(600px 200px at 20% 10%, #153144, var(--screen));
      border:6px solid var(--bezel);
      box-shadow: inset 0 0 30px rgba(0,0,0,.45), 0 6px 18px rgba(0,0,0,.25);
      color:var(--screen-text); font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      display:flex; align-items:center; justify-content:center; text-align:center; padding:10px 14px;
    }
    .lcd p{ margin:0; line-height:1.35; letter-spacing:.4px; font-size:18px; white-space:pre-line }
    .visit{ color:#fff; font-weight:700; text-decoration:none; border-bottom:2px solid rgba(255,255,255,.45) }
    .visit:hover{ border-bottom-color:#fff }

    @media (max-width:640px){
      h1{ font-size:1.6rem }
      .lcd{ height:100px }
      .lcd p{ font-size:16px }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Monil</h1>
    <p class="note">Toggle <strong>Power</strong>, then close a DIP switch to light its LED and show info on the LCD.</p>

    <div class="board" aria-label="Breadboard UI">
      <!-- SVG breadboard with LCD module, resistors, DIP and power switch -->
      <svg viewBox="0 0 1100 420" role="img" aria-labelledby="ttl">
        <title id="ttl">Breadboard with LCD, 4-way DIP, LEDs and master power</title>

        <!-- breadboard plate -->
        <defs>
          <pattern id="holes" width="24" height="24" patternUnits="userSpaceOnUse">
            <circle cx="12" cy="12" r="2.4" fill="#b8c3cd"/>
          </pattern>
        </defs>
        <rect x="10" y="10" width="1080" height="260" rx="16" fill="#e6ecef" />
        <rect x="10" y="10" width="1080" height="260" rx="16" fill="url(#holes)" opacity=".9"/>

        <!-- LCD bezel (visual only) -->
        <rect x="70" y="40" width="560" height="170" rx="10" fill="#2f855a" opacity=".9" />
        <rect x="95" y="62" width="510" height="126" rx="8" fill="#0f2230" opacity=".95" />

        <!-- power rails -->
        <rect x="10" y="290" width="1080" height="18" fill="#e05d5d" opacity=".9"/>
        <rect x="10" y="314" width="1080" height="18" fill="#69d069" opacity=".9"/>
        <text x="20" y="303" fill="#fff" font-size="13" font-weight="700">+V</text>
        <text x="20" y="327" fill="#0b3" font-size="13" font-weight="700">GND</text>

        <!-- Master Power Switch -->
        <g id="power" class="switch" data-state="off" tabindex="0" role="button" aria-pressed="false">
          <circle cx="970" cy="85" r="13" fill="#8fa6b5"/>
          <g class="lever">
            <rect x="966" y="45" width="8" height="45" rx="4" fill="#2a3540"/>
            <rect x="959" y="38" width="22" height="10" rx="3" fill="#455463"/>
          </g>
          <text x="938" y="122" fill="#fff" font-size="14" font-weight="700">Power</text>
        </g>
        <circle id="led-power" cx="1015" cy="75" r="9" class="led" fill="var(--led-off)"/>

        <!-- 4 LEDs (projects, hobbies, skills, about) -->
        <circle id="led-proj"   cx="720" cy="85"  r="9" class="led" fill="var(--led-off)"/>
        <circle id="led-hob"    cx="755" cy="85"  r="9" class="led" fill="var(--led-off)"/>
        <circle id="led-skill"  cx="790" cy="85"  r="9" class="led" fill="var(--led-off)"/>
        <circle id="led-about"  cx="825" cy="85"  r="9" class="led" fill="var(--led-off)"/>
        <text x="706" y="105" fill="#fff" font-size="12">P</text>
        <text x="742" y="105" fill="#fff" font-size="12">H</text>
        <text x="777" y="105" fill="#fff" font-size="12">S</text>
        <text x="814" y="105" fill="#fff" font-size="12">A</text>

        <!-- 4-bit DIP switch -->
        <g id="dip-proj" class="dip" data-on="false" tabindex="0" role="button" aria-label="Projects switch">
          <rect x="700" y="140" width="40" height="50" rx="4" fill="#0b6" opacity=".9"/>
          <rect x="706" y="148" width="12" height="34" rx="2" fill="#fff"/>
          <rect class="thumb" x="706" y="148" width="12" height="15" fill="#1c3a2e"/>
          <text x="708" y="142" fill="#fff" font-size="10">1</text>
        </g>
        <g id="dip-hob" class="dip" data-on="false" tabindex="0" role="button" aria-label="Hobbies switch">
          <rect x="740" y="140" width="40" height="50" rx="4" fill="#0b6" opacity=".9"/>
          <rect x="746" y="148" width="12" height="34" rx="2" fill="#fff"/>
          <rect class="thumb" x="746" y="148" width="12" height="15" fill="#1c3a2e"/>
          <text x="748" y="142" fill="#fff" font-size="10">2</text>
        </g>
        <g id="dip-skill" class="dip" data-on="false" tabindex="0" role="button" aria-label="Skills switch">
          <rect x="780" y="140" width="40" height="50" rx="4" fill="#0b6" opacity=".9"/>
          <rect x="786" y="148" width="12" height="34" rx="2" fill="#fff"/>
          <rect class="thumb" x="786" y="148" width="12" height="15" fill="#1c3a2e"/>
          <text x="788" y="142" fill="#fff" font-size="10">3</text>
        </g>
        <g id="dip-about" class="dip" data-on="false" tabindex="0" role="button" aria-label="About switch">
          <rect x="820" y="140" width="40" height="50" rx="4" fill="#0b6" opacity=".9"/>
          <rect x="826" y="148" width="12" height="34" rx="2" fill="#fff"/>
          <rect class="thumb" x="826" y="148" width="12" height="15" fill="#1c3a2e"/>
          <text x="828" y="142" fill="#fff" font-size="10">4</text>
        </g>

        <!-- labels -->
        <text x="702" y="210" fill="#fff" font-size="12">DIP (1–4)</text>
      </svg>

      <!-- LCD content (HTML overlay for easy wrapping) -->
      <div class="lcd-wrap">
        <div class="lcd"><p id="lcdText">POWER OFF\nFlip Power to enable the board.</p></div>
        <div id="visitSlot"></div>
      </div>
    </div>
  </div>

  <script>
    const power = document.getElementById('power');
    const ledPower = document.getElementById('led-power');
    const lcdText = document.getElementById('lcdText');
    const visitSlot = document.getElementById('visitSlot');

    const channels = {
      proj:  { dip:'dip-proj',  led:'led-proj',  color:getCSS('--proj'),  title:'PROJECTS',
               text:'DE1-SoC DNN accelerator, self-balancing robot, and metal-detecting rover.',
               link:'projects.html' },
      hob:   { dip:'dip-hob',   led:'led-hob',   color:getCSS('--hob'),   title:'HOBBIES',
               text:'Football, playlists, and quick college-friendly cooking experiments.',
               link:'hobbies.html' },
      skill: { dip:'dip-skill', led:'led-skill', color:getCSS('--skill'), title:'SKILLS',
               text:'C/C++, Verilog/SystemVerilog, DE1-SoC, embedded firmware, control systems.',
               link:'about.html' },
      about: { dip:'dip-about', led:'led-about', color:getCSS('--about'), title:'ABOUT',
               text:'ECE @ UBC — I build hardware-software systems that feel effortless.',
               link:'about.html' }
    };

    let powered = false;

    function getCSS(varName){
      return getComputedStyle(document.documentElement).getPropertyValue(varName).trim() || '#fff';
    }

    function setLCD(title, text){
      // 2 lines max; wrap gently
      const wrapped = wrapTwoLines(`${title}: ${text}`, 52);
      lcdText.textContent = wrapped.join('\n');
    }

    function wrapTwoLines(s, width){
      if (s.length <= width) return [s, ''];
      const cut = s.lastIndexOf(' ', width);
      return [s.slice(0, cut>0?cut:width), s.slice((cut>0?cut+1:width))];
    }

    function powerUI(){
      ledPower.setAttribute('fill', powered ? 'var(--led-on)' : 'var(--led-off)');
      ledPower.style.color = powered ? 'var(--led-on)' : 'var(--led-off)';
      ledPower.classList.toggle('glow', powered);
      if (!powered){
        Object.values(channels).forEach(c=>{
          c._dip.dataset.on = 'false';
          c._led.setAttribute('fill','var(--led-off)');
          c._led.classList.remove('glow');
        });
        lcdText.textContent = 'POWER OFF\nFlip Power to enable the board.';
        visitSlot.innerHTML = '';
      }
    }

    function togglePower(){
      powered = !powered;
      power.dataset.state = powered ? 'on' : 'off';
      power.setAttribute('aria-pressed', powered ? 'true' : 'false');
      powerUI();
      if (powered){
        setLCD('READY', 'Toggle a DIP switch (1–4) to select a channel.');
      }
    }

    power.addEventListener('click', togglePower);
    power.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); togglePower(); }});

    // wire channels
    Object.entries(channels).forEach(([key,c])=>{
      c._dip = document.getElementById(c.dip);
      c._led = document.getElementById(c.led);

      const act = ()=>{
        if(!powered) return;
        const on = c._dip.dataset.on === 'true';
        // turn others off (single active channel)
        Object.values(channels).forEach(o=>{
          if(o!==c){
            o._dip.dataset.on='false';
            o._led.setAttribute('fill','var(--led-off)');
            o._led.classList.remove('glow');
          }
        });
        // toggle this one
        c._dip.dataset.on = on ? 'false' : 'true';
        if(on){
          c._led.setAttribute('fill','var(--led-off)');
          c._led.classList.remove('glow');
          setLCD('READY', 'Toggle a DIP switch (1–4) to select a channel.');
          visitSlot.innerHTML = '';
        }else{
          c._led.setAttribute('fill', c.color);
          c._led.style.color = c.color;
          c._led.classList.add('glow');
          setLCD(c.title, c.text);
          visitSlot.innerHTML = `<a class="visit" href="${c.link}">Visit page →</a>`;
        }
      };

      c._dip.addEventListener('click', act);
      c._dip.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); act(); }});
    });

    // init
    powerUI();
  </script>
</body>
</html>
